import styles from './search.module.scss';
import { useEffect, useState } from 'react';

/* eslint-disable-next-line */


export type Location = {
  pk: number;
  coords: [number, number];
  region: string;
  address: string;
};

export type Place = {
  location: Location;
  images: string[];
  name: string;
  phone?: string;
  description?: string;
  website?: string;
  category: number;
}

const SearchItem = ({ place, selected, onSelectLocation }: {
  place: Place,
  selected: boolean,
  onSelectLocation: (place: Place) => void
}) => {
  const [isSelected, setSelected] = useState(selected);
  return <div className={'flex relative bg-gray-100 rounded-2xl justify-start items-start p-2 gap-2'} onClick={() => {
    onSelectLocation(place);
    setSelected(prevState => !prevState);
  }}>
    <div className={'bg-[#E6E0FF] w-[10px] h-[10px] rounded-full my-[4px]'}></div>
    <div>
      <div className={'font-bold'}>
        {place.name}
      </div>
      <div>
        {place.location.address}
      </div>
    </div>
    <div className={"absolute top-[-2px] right-4"}>
      {isSelected ? <svg width="36" height="33" viewBox="0 0 24 27" fill="none" xmlns="http://www.w3.org/2000/svg"
                         xmlnsXlink="http://www.w3.org/1999/xlink">
          <rect width="24" height="27" fill="url(#pattern0_50_380)" />
          <defs>
            <pattern id="pattern0_50_380" patternContentUnits="objectBoundingBox" width="1" height="1">
              <use xlinkHref="#image0_50_380" transform="matrix(0.00219727 0 0 0.00195312 -0.0625 0)" />
            </pattern>
            <image id="image0_50_380" width="512" height="512"
                   xlinkHref="data:image/png;base64,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AAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CAB0LLS9wAA9EUAAECDBAAANEgAAECDBAAANEgAtKzrewAA+iIAAKBBAgAAGiQAAKBBAgAAGiQAAKBBAgAAGiQAAKBBAgAAGiQAWmYbIECzBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBEDLur4HAKAvAgAAGiQAAKBBAgAAGiQAWmYZEECzBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAtKz0PQAAfREAANAgAQAADRIAANAgAdCyru8BAOiLAACABgkAAGiQAACABgkAAGiQAGiZFwEBNEsAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAAECDBAAANEgAtMw2QIBmCQAAaJAAAIAGCQAAaJAAaJllQADNEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAA0CABAAANEgAtswwIoFkCAAAaJAAAoEECAAAaJABaZhkQQLMEAAA0SAAAQIMEAAA0SAAAQIMEAAA0SAAAQIMEAAA0SAAAQIMEAAA0SAAAQIMEAAA0SAAAQIMEAAA0SABAqw70PQDQJwEALdqf5Gd9DwH0SQBAa/YneThJ1/cgQJ9m+h4AWEd7k+zsewhgFAgAaMVykt19DwGMCh8BQAvc/IFH8QQAJt3uDAIA4BEEAEyynRl87g/wKAIAJlGXwc1/X9+DAKNKALSs9D0A1Tycwdf9AB6HAIBJsprBzd9b/oAn4VsAMCnc/IEj4AkATILVDF7tu9L3IMC4EAAt8yrYybCSwc1/te9BgHEiAGCcHcjg5i/mgCMkAGBc2egHrIEAgHG0L5b6AGsiAGDc2OgH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" />
          </defs>
        </svg>
        : <svg width="28" height="32" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"
               xmlnsXlink="http://www.w3.org/1999/xlink">
          <rect width="22" height="22" fill="url(#pattern0_53_556)" />
          <defs>
            <pattern id="pattern0_53_556" patternContentUnits="objectBoundingBox" width="1" height="1">
              <use xlinkHref="#image0_53_556" transform="scale(0.00390625)" />
            </pattern>
            <image id="image0_53_556" width="256" height="256"
                   xlinkHref="data:image/png;base64,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" />
          </defs>
        </svg>
      }
    </div>
  </div>;
};

export function Search({ query, selectedPlaces, onSelectLocation }: {
  query: string,
  selectedPlaces: Place[],
  onSelectLocation: (place: Place) => void
}) {
  const [data, setData] = useState<Place[]>([]);
  useEffect(() => {
    (async () => {
      await fetch(`https://hack4.k-lab.su/api/organizations/search/${query}/`, {
        method: 'get'
      })
        .then(response => response.json())
        .then(data => {
          setData(data.results.filter((item: any) => item.location.address !== ''));
        })
        .catch(error => {
          console.error(error);
        });
    })();
  }, [query]);
  return <div className={styles['container']}>
    <div className={'overflow-y-scroll'}>
      <div className={'flex flex-col gap-2 my-4'}>
        {data.slice(0, 6).map((item, index) => <SearchItem place={item} selected={selectedPlaces.includes(item)}
                                                           key={index}
                                                           onSelectLocation={onSelectLocation} />)}
      </div>
    </div>
  </div>;
}

export default Search;
